{"version":3,"names":["html","css","LitElement","KoralFooter","styles","constructor","_state","lockTimeout","freezeTimeout","settingsTimeout","timeoutDuration","state","onUpdate","requestUpdate","render","nothing","onSettingsPress","onSettingsRelease","onLockPresss","onLockRelease","get","clearTimeout","setTimeout","set","lock","toggleModal","onFreezePress","freeze","onFreezeRelease","settings","customElements","undefined","define"],"sources":["../../../../../src/clients/instruments/views/shared/koral-footer.js"],"sourcesContent":["import { html, css, LitElement } from 'lit';\nimport '@ircam/sc-components/sc-button.js';\n\nclass KoralFooter extends LitElement {\n  static styles = css`\n    :host {\n      display: flex;\n      flex-direction: row;\n      justify-content: space-between;\n      box-sizing: border-box;\n      width: 100%;\n    }\n\n    .row {\n      display: flex;\n      height: 100%;\n      width: 100%;\n      flex-direction: row;\n      justify-content: space-around;\n    }\n\n    .large-logo {\n      height: var(--koral-footer-button-width);\n      width: calc(var(--koral-footer-logo-ratio) * var(--koral-footer-button-width));\n      background-size: calc(var(--koral-footer-logo-ratio) * var(--koral-footer-button-width)) calc(var(--koral-footer-button-width));\n      background-position: 50% 50%;\n      background-repeat: no-repeat;\n    }\n\n    .footer-button {\n      height: var(--koral-footer-button-width);\n      width: var(--koral-footer-button-width);\n      border: none;\n      font-family: var(--koral-font-family);\n\n      background-size: calc(var(--koral-footer-button-width));\n      background-position: 50% 50%;\n      background-repeat: no-repeat;\n\n      --sc-button-background-color: rgba(0, 0, 0, 0);\n      --sc-button-background-color-hover: rgba(0, 0, 0, 0);\n      --sc-button-background-color-active: rgba(0, 0, 0, 0.5);\n    }\n  `;\n\n  constructor() {\n    super();\n    this._state = null;\n    this.lockTimeout = null;\n    this.freezeTimeout = null;\n    this.settingsTimeout = null;\n    this.timeoutDuration = 500;\n  }\n\n  set state(state) {\n    this._state = state;\n    this._state.onUpdate(() => {\n      this.requestUpdate();\n    });\n    // on state change\n    this.requestUpdate();\n  }\n\n  render() {\n    if (!this._state) {\n      return nothing;\n    }\n    return html`\n      <div class=\"row\">\n        <sc-button\n          @press=${this.onSettingsPress}\n          @release=${this.onSettingsRelease}\n          class=\"footer-button\"\n          style=\"background-image: url(images/settings.png)\"\n        ></sc-button>\n        <div class=\"large-logo\" style=\"background-image: url(images/large-logo.png)\"></div>\n        <sc-button\n          @press=${this.onLockPresss}\n          @release=${this.onLockRelease}\n          class=\"footer-button\"\n          style=\"background-image: url(images/${this._state.get('lock') ? 'unlock' : 'lock'}.png)\"\n        ></sc-button>\n    </div>\n    `\n  }\n\n  onLockPresss() {\n    clearTimeout(this.lockTimeout);\n    this.lockTimeout = setTimeout(() => {\n      this._state.set({ lock: !this._state.get('lock') });\n      toggleModal();\n    }, this.timeoutDuration);\n  }\n\n  onLockRelease() {\n    clearTimeout(this.lockTimeout);\n  }\n\n  onFreezePress() {\n    clearTimeout(this.freezeTimeout);\n    this.freezeTimeout = setTimeout(() => {\n      this._state.set({ freeze: !this._state.get('freeze') });\n    }, this.timeoutDuration);\n  }\n\n  onFreezeRelease() {\n    clearTimeout(this.freezeTimeout);\n  }\n\n\n  onSettingsPress() {\n    clearTimeout(this.settingsTimeout);\n    this.settingsTimeout = setTimeout(() => {\n      this._state.set({ settings: !this._state.get('settings') });\n    }, this.timeoutDuration);\n  }\n\n  onSettingsRelease() {\n    clearTimeout(this.settingsTimeout);\n  }\n}\n\nif (customElements.get('koral-footer') === undefined) {\n  customElements.define('koral-footer', KoralFooter);\n}\n"],"mappings":"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","ignoreList":[]}
