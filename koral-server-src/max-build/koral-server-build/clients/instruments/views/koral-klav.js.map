{"version":3,"names":["html","LitElement","nothing","KoralInstrument","getValueFromData","setDataFromEvent","KoralKlav","properties","instrument","type","String","freeze","Boolean","render","_state","e","_onEnter","_onExit","target","classList","add","key","parseInt","value","sendEvent","remove","customElements","get","undefined","define"],"sources":["../../../../src/clients/instruments/views/koral-klav.js"],"sourcesContent":["import { html, LitElement, nothing } from 'lit';\nimport KoralInstrument from './shared/KoralInstrument.js';\nimport { getValueFromData, setDataFromEvent } from './shared/utilities.js';\n\nimport '@ircam/sc-components/sc-io-surface.js';\nimport '@ircam/sc-components/sc-slider.js';\n\nclass KoralKlav extends KoralInstrument {\n  static properties = {\n    instrument: { type: String },\n    freeze: { type: Boolean },\n  };\n\n  render() {\n    if (!this._state) {\n      return nothing;\n    }\n\n    return html`\n      <div class=\"screen column\">\n        <div class=\"row slider\">\n          <div class=\"icon\" style=\"background-image: url(images/octavaL.png)\"></div>\n          <div class=\"koral-slider icons\">\n          <sc-slider\n            min=\"1\"\n            max=\"5\"\n            step=\"1\"\n            value=${getValueFromData(this, ['octava'])}\n            ?disabled=${this.freeze}\n            @input=${e => setDataFromEvent(this, ['octava'], e)}\n          ></sc-slider>\n          </div>\n          <div class=\"icon\" style=\"background-image: url('images/octavaR.png')\"></div>\n        </div>\n        <div class=\"column\" style=\"justify-content:center\">\n          <div class=\"column\" style=\"height:80%\">\n            <div class=\"row centered\">\n              <sc-io-surface class=\"klav-key\" ?disabled=${this.freeze} value=\"1\" @enter=${this._onEnter} @exit=${this._onExit}></sc-io-surface>\n              <sc-io-surface class=\"klav-key\" ?disabled=${this.freeze} value=\"2\" @enter=${this._onEnter} @exit=${this._onExit}></sc-io-surface>\n              <sc-io-surface class=\"klav-key\" ?disabled=${this.freeze} value=\"3\" @enter=${this._onEnter} @exit=${this._onExit}></sc-io-surface>\n            </div>\n            <div class=\"row centered\">\n              <sc-io-surface class=\"klav-key\" ?disabled=${this.freeze} value=\"4\" @enter=${this._onEnter} @exit=${this._onExit}></sc-io-surface>\n              <sc-io-surface class=\"klav-key\" ?disabled=${this.freeze} value=\"5\" @enter=${this._onEnter} @exit=${this._onExit}></sc-io-surface>\n              <sc-io-surface class=\"klav-key\" ?disabled=${this.freeze} value=\"6\" @enter=${this._onEnter} @exit=${this._onExit}></sc-io-surface>\n              <sc-io-surface class=\"klav-key\" ?disabled=${this.freeze} value=\"7\" @enter=${this._onEnter} @exit=${this._onExit}></sc-io-surface>\n            </div>\n            <div class=\"row centered\">\n              <sc-io-surface class=\"klav-key\" ?disabled=${this.freeze} value=\"8\" @enter=${this._onEnter} @exit=${this._onExit}></sc-io-surface>\n              <sc-io-surface class=\"klav-key\" ?disabled=${this.freeze} value=\"9\" @enter=${this._onEnter} @exit=${this._onExit}></sc-io-surface>\n              <sc-io-surface class=\"klav-key\" ?disabled=${this.freeze} value=\"10\" @enter=${this._onEnter} @exit=${this._onExit}></sc-io-surface>\n            </div>\n            <div class=\"row centered\">\n              <sc-io-surface class=\"klav-key\" ?disabled=${this.freeze} value=\"11\" @enter=${this._onEnter} @exit=${this._onExit}></sc-io-surface>\n              <sc-io-surface class=\"klav-key\" ?disabled=${this.freeze} value=\"12\" @enter=${this._onEnter} @exit=${this._onExit}></sc-io-surface>\n              <sc-io-surface class=\"klav-key\" ?disabled=${this.freeze} value=\"13\" @enter=${this._onEnter} @exit=${this._onExit}></sc-io-surface>\n              <sc-io-surface class=\"klav-key\" ?disabled=${this.freeze} value=\"14\" @enter=${this._onEnter} @exit=${this._onExit}></sc-io-surface>\n            </div>\n            <div class=\"row centered\">\n              <sc-io-surface class=\"klav-key\" ?disabled=${this.freeze} value=\"15\" @enter=${this._onEnter} @exit=${this._onExit}></sc-io-surface>\n              <sc-io-surface class=\"klav-key\" ?disabled=${this.freeze} value=\"16\" @enter=${this._onEnter} @exit=${this._onExit}></sc-io-surface>\n              <sc-io-surface class=\"klav-key\" ?disabled=${this.freeze} value=\"17\" @enter=${this._onEnter} @exit=${this._onExit}></sc-io-surface>\n            </div>\n          </div>\n        </div>\n      </div>\n    `;\n  }\n\n  _onEnter(e) {\n    e.target.classList.add('active');\n    const key = parseInt(e.target.value);\n    sendEvent(`${this.instrument}/key/${key}`, 1);\n  }\n\n  _onExit(e) {\n    e.target.classList.remove('active');\n    const key = parseInt(e.target.value);\n    sendEvent(`${this.instrument}/key/${key}`, 0);\n  }\n}\n\nif (customElements.get('koral-klav') === undefined) {\n  customElements.define('koral-klav', KoralKlav);\n}\n"],"mappings":"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","ignoreList":[]}
